# 防抖和节流

### 防抖

> 防抖是防止抖动，多次触发只接受最后一次的触发

```jsx
/**
 * defaultShowCode: true
 */
import React from "react";

class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      val: "",
    };
    this.onChanges = this.debounce(this.onChanges.bind(this), 2000);
  }

  onChanges(e) {
    this.setState({
      val: e,
    });
  }

  // 防抖函数
  debounce(fun, time) {
    let timeFn = null;
    return function () {
      console.log(arguments);
      if (timeFn) clearTimeout(timeFn);
      timeFn = setTimeout(() => fun.apply(this, arguments), time);
    };
  }

  render() {
    return (
      <>
        <input type="text" onChange={(e) => this.onChanges(e.target.value)} />
        <p>{this.state.val}</p>
      </>
    );
  }
}

export default () => <App />;
```
